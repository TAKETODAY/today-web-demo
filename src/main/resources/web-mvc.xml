<?xml version="1.0" encoding="UTF-8"?>
<!--
  Original Author -> 杨海健 (taketoday@foxmail.com) https://taketoday.cn
  Copyright © Today & 2017 - 2018 All Rights Reserved.
  
  DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER
 
  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.
 
  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.
 
  You should have received a copy of the GNU General Public License
  along with this program.  If not, see <https://www.gnu.org/licenses/>.
 -->
 
<!DOCTYPE Web-Configuration PUBLIC 
			"-//TODAY BLOG//Web - Configuration DTD 2.0//CN"
				"web-configuration-2.3.3.dtd">

<!--
 	"https://taketoday.cn/framework/web/dtd/web-configuration-2.2.3.dtd">
-->
<Web-Configuration>

	<dispatcher-servlet mapping="/;*.do"/>
	<static-resources mapping="/assets/*"/>

	<multipart class="cn.taketoday.web.multipart.CommonsMultipartResolver">
		<upload-encoding>#{upload.encoding}</upload-encoding>
		<upload-maxFileSize>#{upload.maxFileSize}</upload-maxFileSize>
		<upload-maxRequestSize>#{upload.maxRequestSize}</upload-maxRequestSize>
		<upload-fileSizeThreshold>#{upload.fileSizeThreshold}</upload-fileSizeThreshold>
	</multipart>
	
	<!-- <view-resolver class="cn.taketoday.web.view.JstlViewResolver"> -->
	<view-resolver class="cn.taketoday.web.view.FreeMarkerViewResolver">
		<view-prefix>#{view.prefix}</view-prefix>
		<view-suffix>#{view.suffix}</view-suffix>
		<view-encoding>#{view.encoding}</view-encoding>
	</view-resolver>

	<controller prefix="/error/">
		<action resource="400" name="BadRequest"/>
		<action resource="403" name="Forbidden"/>
		<action resource="404" name="NotFound"/>
		<action resource="500" name="ServerIsBusy"/>
		<action resource="405" name="MethodNotAllowed"/>
	</controller>

	<controller>
		<action resource="http://pipe.b3log.org/blogs/Today" name="today-blog-pipe" type="redirect"/>
		<action resource="https://taketoday.cn" name="today" type="redirect"/>
		<action resource="https://github.com" name="github" type="redirect"/>
		<action resource="/login" name="login.do" type="redirect"/>

	</controller>

	<controller class="cn.taketoday.web.demo.controller.XMLController" name="xmlController" prefix="/xml/">

		<action name="obj" method="obj" />
		<action name="test" resource="test" method="test" type="forward"/>

	</controller>

</Web-Configuration>


